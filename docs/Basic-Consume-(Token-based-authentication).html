

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Basic Consume token-based authentication &mdash; OpenDXL Streaming Java Client Library 0.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic Consume user-password-based authentication" href="Basic-Consume-(user-and-pass-authentication).html" />
    <link rel="prev" title="Prerequisites" href="Prerequisites.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> OpenDXL Streaming Java Client Library
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Prerequisites.html">Prerequisites</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic Consume token-based authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sample-code">Sample Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-sample">Run the sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running">Running</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Basic-Consume-(user-and-pass-authentication).html">Basic Consume user-password-based authentication</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Basic-Produce-(Token-based-authentication).html">Basic Produce token-based authentication</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Basic-Produce-and-Consume-(Token-based-authentication).html">Basic Produce and Consume using token-based authentication</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Basic-Consume-(command-line-interface).html">CLI (Command Line Interface)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenDXL Streaming Java Client Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Basic Consume token-based authentication</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basic-consume-token-based-authentication">
<h1>Basic Consume token-based authentication<a class="headerlink" href="#basic-consume-token-based-authentication" title="Permalink to this headline">¶</a></h1>
<p>This sample demonstrates how to establish a channel connection to the
DXL streaming service by using an identity token authentication
mechanism. Once the connection is established, the sample repeatedly
consumes and displays available records for the consumer group.</p>
<p>Code highlights are shown below:</p>
<div class="section" id="sample-code">
<h2>Sample Code<a class="headerlink" href="#sample-code" title="Permalink to this headline">¶</a></h2>
<div class="code java highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">static</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">Logger</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">ConsumeRecordsWithToken</span><span class="o">.</span><span class="n">class</span><span class="p">);</span>
<span class="o">...</span>
<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">Channel</span> <span class="nb">object</span>
<span class="n">Channel</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ChannelBuilder</span><span class="p">(</span><span class="n">channelUrl</span><span class="p">,</span> <span class="n">new</span> <span class="n">ChannelAuthToken</span><span class="p">(</span><span class="n">token</span><span class="p">),</span> <span class="n">channelConsumerGroup</span><span class="p">)</span>
                <span class="o">.</span><span class="n">withExtraConfigs</span><span class="p">(</span><span class="n">extraConfigs</span><span class="p">)</span>
                <span class="o">.</span><span class="n">withRetryOnFail</span><span class="p">(</span><span class="n">true</span><span class="p">)</span>
                <span class="o">.</span><span class="n">withCertificateBundle</span><span class="p">(</span><span class="n">verifyCertificateBundle</span><span class="p">)</span>
                <span class="o">.</span><span class="n">withHttpProxy</span><span class="p">(</span><span class="n">new</span> <span class="n">HttpProxySettings</span><span class="p">(</span><span class="n">PROXY_ENABLED</span><span class="p">,</span>
                        <span class="n">PROXY_HOST</span><span class="p">,</span>
                        <span class="n">PROXY_PORT</span><span class="p">,</span>
                        <span class="n">PROXY_USR</span><span class="p">,</span>
                        <span class="n">PROXY_PWD</span><span class="p">))</span>
                <span class="o">.</span><span class="n">build</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Create</span> <span class="nb">object</span> <span class="n">which</span> <span class="n">processCallback</span><span class="p">()</span> <span class="n">method</span> <span class="n">will</span> <span class="n">be</span> <span class="n">called</span> <span class="n">back</span> <span class="n">upon</span> <span class="n">by</span> <span class="n">the</span> <span class="n">run</span> <span class="n">method</span> <span class="p">(</span><span class="n">see</span> <span class="n">below</span><span class="p">)</span>
<span class="o">//</span> <span class="n">when</span> <span class="n">records</span> <span class="n">are</span> <span class="n">received</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">channel</span>
<span class="n">ConsumerRecordProcessor</span> <span class="n">consumerRecordCallback</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ConsumerRecordProcessor</span><span class="p">()</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="n">public</span> <span class="n">boolean</span> <span class="n">processCallback</span><span class="p">(</span><span class="n">ConsumerRecords</span> <span class="n">consumerRecords</span><span class="p">,</span> <span class="n">String</span> <span class="n">consumerId</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Print</span> <span class="n">the</span> <span class="n">received</span> <span class="n">payloads</span><span class="o">.</span> <span class="s1">&#39;payloads&#39;</span> <span class="ow">is</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span>
        <span class="o">//</span> <span class="n">dictionary</span> <span class="n">objects</span> <span class="n">extracted</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">records</span> <span class="n">received</span>
        <span class="o">//</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">channel</span><span class="o">.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">new</span> <span class="n">StringBuilder</span><span class="p">(</span><span class="s2">&quot;Received &quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">consumerRecords</span><span class="o">.</span><span class="n">getRecords</span><span class="p">()</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
                <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; records&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">toString</span><span class="p">());</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">ConsumerRecords</span><span class="o">.</span><span class="n">ConsumerRecord</span> <span class="n">record</span> <span class="p">:</span> <span class="n">consumerRecords</span><span class="o">.</span><span class="n">getRecords</span><span class="p">())</span> <span class="p">{</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;topic = &quot;</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">getTopic</span><span class="p">());</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;partition = &quot;</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">getPartition</span><span class="p">());</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;offset = &quot;</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">getOffset</span><span class="p">());</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;sharding key = &quot;</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">getShardingKey</span><span class="p">());</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;headers = &quot;</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">getHeaders</span><span class="p">());</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;payload = &quot;</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">getPayload</span><span class="p">());</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;decoded payload = &quot;</span> <span class="o">+</span> <span class="n">new</span> <span class="n">String</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">getDecodedPayload</span><span class="p">()));</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

        <span class="p">}</span>

        <span class="o">//</span> <span class="n">Return</span> <span class="s1">&#39;True&#39;</span> <span class="ow">in</span> <span class="n">order</span> <span class="k">for</span> <span class="n">the</span> <span class="s1">&#39;run&#39;</span> <span class="n">call</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">attempting</span> <span class="n">to</span> <span class="n">consume</span> <span class="n">records</span><span class="o">.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;let commit records&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="o">//</span> <span class="n">Consume</span> <span class="n">records</span> <span class="n">indefinitely</span>
<span class="n">final</span> <span class="nb">int</span> <span class="n">consumePollTimeoutMs</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
<span class="n">channel</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">consumerRecordCallback</span><span class="p">,</span> <span class="n">channelTopicSubscriptions</span><span class="p">,</span> <span class="n">consumePollTimeoutMs</span><span class="p">);</span>
</pre></div>
</div>
<p>The first step is to create a <code class="docutils literal notranslate"><span class="pre">Channel</span></code> instance, which establishes a
channel to the streaming service. The channel includes the URL to the
streaming service, <code class="docutils literal notranslate"><span class="pre">channelUrl</span></code>, and TOKEN that the client uses to
authenticate itself to the service, <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">ChannelAuthToken(token)</span></code>. It
also includes a certificate, <code class="docutils literal notranslate"><span class="pre">verifyCertificateBundle</span></code> , and HTTP
proxy settings <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">HttpProxySettings(...)</span></code></p>
<p>The example defines a <code class="docutils literal notranslate"><span class="pre">consumerRecordCallback</span></code> instance which is
invoked with the <code class="docutils literal notranslate"><span class="pre">consumerRecords</span></code> extracted from records consumed
from the channel. The <code class="docutils literal notranslate"><span class="pre">consumerRecordCallback</span></code> function outputs the
contents of the each record, its metadata and returns <code class="docutils literal notranslate"><span class="pre">true</span></code> to
indicate that the channel should continue consuming records. Note that
if the <code class="docutils literal notranslate"><span class="pre">consumerRecordCallback</span></code> function were to instead return
<code class="docutils literal notranslate"><span class="pre">false</span></code>, the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method would stop polling the service for new
records and it would return.</p>
<p>The final step is to call the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method. The <code class="docutils literal notranslate"><span class="pre">run()</span></code> method
establishes a consumer instance with the service, subscribes the
consumer instance for records delivered to the <code class="docutils literal notranslate"><span class="pre">topics</span></code> included in
the <code class="docutils literal notranslate"><span class="pre">channelTopicSubscriptions</span></code> variable, and continuously polls the
streaming service for available records. The records from any records
which are received from the streaming service are passed in a call to
the <code class="docutils literal notranslate"><span class="pre">consumerRecordCallback</span></code> instance. Note that if no records are
received from a poll attempt, an empty list of records is passed into
the <code class="docutils literal notranslate"><span class="pre">consumerRecordCallback</span></code> function.</p>
<p>As records are received by the sample, the contents of the messages
should be displayed to the output window. The output should appear
similar to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">topic</span> <span class="o">=</span> <span class="n">topic1</span>
<span class="n">partition</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">sharding</span> <span class="n">key</span> <span class="o">=</span> <span class="n">pool</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">thread</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">0</span><span class="o">-</span><span class="mi">0</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="n">sourceId</span><span class="o">=</span><span class="n">abc</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="n">algo</span><span class="p">,</span> <span class="n">tenantId</span><span class="o">=</span><span class="mi">5</span><span class="n">ca969eb</span><span class="o">-</span><span class="mi">2757</span><span class="o">-</span><span class="mi">46</span><span class="n">ed</span><span class="o">-</span><span class="n">bc3f</span><span class="o">-</span><span class="n">f9266ccccea7</span><span class="p">,</span> <span class="n">zoneId</span><span class="o">=</span><span class="n">TMP</span><span class="o">.</span><span class="n">Identity</span><span class="o">.</span><span class="n">TRUCHATOR</span><span class="p">}</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">SGVsbG8gV29ybGQgYXQ6MjAxOS0wNS0wN1QxNjowMjoxOC42NjcgRXh0cmE6IEI0ODlNOTNTSFVEME5VTVYzWlZKTU43NkJSNE5HUEE4NFIzSVI1R1NDME05WTFYT1FISjMyNzhMSzY2UFpYNTg4QU42WjEyMjlKRUE4Nlg2MDhLSUxDSDczSFRSSkQyUlNKTkQ</span><span class="o">=</span>
<span class="n">decoded</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Hello</span> <span class="n">World</span> <span class="n">at</span><span class="p">:</span><span class="mi">2019</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">18.667</span> <span class="n">Extra</span><span class="p">:</span> <span class="n">B489M93SHUD0NUMV3ZVJMN76BR4NGPA84R3IR5GSC0M9Y1XOQHJ3278LK66PZX588AN6Z1229JEA86X608KILCH73HTRJD2RSJND</span>

<span class="n">topic</span> <span class="o">=</span> <span class="n">topic1</span>
<span class="n">partition</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">sharding</span> <span class="n">key</span> <span class="o">=</span> <span class="n">pool</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">thread</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">0</span><span class="o">-</span><span class="mi">0</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="n">sourceId</span><span class="o">=</span><span class="n">abc</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="n">algo</span><span class="p">,</span> <span class="n">tenantId</span><span class="o">=</span><span class="mi">5</span><span class="n">ca969eb</span><span class="o">-</span><span class="mi">2757</span><span class="o">-</span><span class="mi">46</span><span class="n">ed</span><span class="o">-</span><span class="n">bc3f</span><span class="o">-</span><span class="n">f9266ccccea7</span><span class="p">,</span> <span class="n">zoneId</span><span class="o">=</span><span class="n">TMP</span><span class="o">.</span><span class="n">Identity</span><span class="o">.</span><span class="n">TRUCHATOR</span><span class="p">}</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">SGVsbG8gV29ybGQgYXQ6MjAxOS0wNS0wN1QxNjowMjoyMi4wNzggRXh0cmE6IDk5MVYwN0FOOUdOOUROTjVYRUo2Q09NTzQwU1ZRVFJTRlZYUUZBWVE1WjRFV1paME5XVkVRNElaVk5aTzlORkxRMTlKVEw2Q1lGNVJWV0RJRUpPQkM3OTM5TzBTTkQ5OFpKTVg</span><span class="o">=</span>
<span class="n">decoded</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Hello</span> <span class="n">World</span> <span class="n">at</span><span class="p">:</span><span class="mi">2019</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">22.078</span> <span class="n">Extra</span><span class="p">:</span> <span class="mi">991</span><span class="n">V07AN9GN9DNN5XEJ6COMO40SVQTRSFVXQFAYQ5Z4EWZZ0NWVEQ4IZVNZO9NFLQ19JTL6CYF5RVWDIEJOBC7939O0SND98ZJMX</span>
</pre></div>
</div>
</div>
<div class="section" id="run-the-sample">
<h2>Run the sample<a class="headerlink" href="#run-the-sample" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A DXL streaming service is available for the sample to connect to.</li>
<li>Credentials for a consumer are available for use with the sample.</li>
</ul>
</div>
<div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>Modify the example to include the appropriate settings for the streaming
service channel:</p>
<div class="code java highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">CHANNEL_URL</span> <span class="o">=</span> <span class="s2">&quot;http://127.0.0.1:50080&quot;</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">TOKEN</span> <span class="o">=</span> <span class="s2">&quot;Your_Token&quot;</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">TOPICS</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="n">asList</span><span class="p">(</span><span class="s2">&quot;topic1&quot;</span><span class="p">);</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">CONSUMER_GROUP</span> <span class="o">=</span> <span class="s2">&quot;sample_consumer_group&quot;</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">VERIFY_CERTIFICATE_BUNDLE</span> <span class="o">=</span> <span class="s2">&quot;-----BEGIN CERTIFICATE-----&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;Your Certificate if nedeed&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;-----END CERTIFICATE-----&quot;</span><span class="p">;</span>

<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">boolean</span> <span class="n">PROXY_ENABLED</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">PROXY_HOST</span> <span class="o">=</span> <span class="s2">&quot;10.20.30.40&quot;</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="nb">int</span> <span class="n">PROXY_PORT</span> <span class="o">=</span> <span class="mi">8080</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">PROXY_USR</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">String</span> <span class="n">PROXY_PWD</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="running">
<h3>Running<a class="headerlink" href="#running" title="Permalink to this headline">¶</a></h3>
<p>To run this sample execute the runsample script as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./runsample sample.ConsumeRecordsWithToken
</pre></div>
</div>
<p>The initial line in the output window should be similar to the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span> <span class="p">[</span><span class="n">main</span><span class="p">]</span> <span class="p">(</span><span class="n">Channel</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">691</span><span class="p">)</span> <span class="o">-</span> <span class="n">Channel</span> <span class="ow">is</span> <span class="n">running</span>
</pre></div>
</div>
<p>As records are received by the sample, the contents of the message
payloads should be displayed to the output window.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Received</span> <span class="mi">15</span> <span class="n">records</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">topic1</span>
<span class="n">partition</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">sharding</span> <span class="n">key</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="n">scope</span><span class="o">=</span><span class="n">soc</span><span class="o">.</span><span class="n">evt</span><span class="o">.</span><span class="n">vi</span><span class="p">,</span> <span class="n">tenantId</span><span class="o">=</span><span class="n">DBB1FA1E</span><span class="o">-</span><span class="mi">6</span><span class="n">A68</span><span class="o">-</span><span class="mi">4837</span><span class="o">-</span><span class="mi">982</span><span class="n">E</span><span class="o">-</span><span class="n">FB8D839FF4DA</span><span class="p">,</span> <span class="n">zoneId</span><span class="o">=</span><span class="n">TMP</span><span class="o">.</span><span class="n">Identity</span><span class="o">.</span><span class="n">TRUCHATOR</span><span class="p">}</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">SGVsbG8sIFdvcmxkLg</span><span class="o">==</span>
<span class="n">decoded</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Hello</span><span class="p">,</span> <span class="n">World</span><span class="o">.</span>

<span class="n">topic</span> <span class="o">=</span> <span class="n">topic1</span>
<span class="n">partition</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">14</span>
<span class="n">sharding</span> <span class="n">key</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="n">scope</span><span class="o">=</span><span class="n">soc</span><span class="o">.</span><span class="n">evt</span><span class="o">.</span><span class="n">vi</span><span class="p">,</span> <span class="n">tenantId</span><span class="o">=</span><span class="n">DBB1FA1E</span><span class="o">-</span><span class="mi">6</span><span class="n">A68</span><span class="o">-</span><span class="mi">4837</span><span class="o">-</span><span class="mi">982</span><span class="n">E</span><span class="o">-</span><span class="n">FB8D839FF4DA</span><span class="p">,</span> <span class="n">zoneId</span><span class="o">=</span><span class="n">TMP</span><span class="o">.</span><span class="n">Identity</span><span class="o">.</span><span class="n">TRUCHATOR</span><span class="p">}</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">SGVsbG8sIFdvcmxkLg</span><span class="o">==</span>
<span class="n">decoded</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Hello</span><span class="p">,</span> <span class="n">World</span><span class="o">.</span>

<span class="n">topic</span> <span class="o">=</span> <span class="n">topic1</span>
<span class="n">partition</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">sharding</span> <span class="n">key</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="n">scope</span><span class="o">=</span><span class="n">soc</span><span class="o">.</span><span class="n">evt</span><span class="o">.</span><span class="n">vi</span><span class="p">,</span> <span class="n">tenantId</span><span class="o">=</span><span class="n">DBB1FA1E</span><span class="o">-</span><span class="mi">6</span><span class="n">A68</span><span class="o">-</span><span class="mi">4837</span><span class="o">-</span><span class="mi">982</span><span class="n">E</span><span class="o">-</span><span class="n">FB8D839FF4DA</span><span class="p">,</span> <span class="n">zoneId</span><span class="o">=</span><span class="n">TMP</span><span class="o">.</span><span class="n">Identity</span><span class="o">.</span><span class="n">TRUCHATOR</span><span class="p">}</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">SGVsbG8sIFdvcmxkLg</span><span class="o">==</span>
<span class="n">decoded</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Hello</span><span class="p">,</span> <span class="n">World</span><span class="o">.</span>

<span class="n">topic</span> <span class="o">=</span> <span class="n">topics1</span>
<span class="n">partition</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">sharding</span> <span class="n">key</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="n">scope</span><span class="o">=</span><span class="n">soc</span><span class="o">.</span><span class="n">evt</span><span class="o">.</span><span class="n">vi</span><span class="p">,</span> <span class="n">tenantId</span><span class="o">=</span><span class="n">DBB1FA1E</span><span class="o">-</span><span class="mi">6</span><span class="n">A68</span><span class="o">-</span><span class="mi">4837</span><span class="o">-</span><span class="mi">982</span><span class="n">E</span><span class="o">-</span><span class="n">FB8D839FF4DA</span><span class="p">,</span> <span class="n">zoneId</span><span class="o">=</span><span class="n">TMP</span><span class="o">.</span><span class="n">Identity</span><span class="o">.</span><span class="n">TRUCHATOR</span><span class="p">}</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">SGVsbG8sIFdvcmxkLg</span><span class="o">==</span>
<span class="n">decoded</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Hello</span><span class="p">,</span> <span class="n">World</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Basic-Consume-(user-and-pass-authentication).html" class="btn btn-neutral float-right" title="Basic Consume user-password-based authentication" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Prerequisites.html" class="btn btn-neutral" title="Prerequisites" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, McAfee LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>